{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/auditor.js","webpack://exports/external \"sketch/dom\""],"names":["Document","require","Page","Artboard","Text","Group","Rectangle","ShapePath","Style","document","getSelectedDocument","page","selectedPage","audits","auditorBoard","bgGroup","margin","padding","onAuditLayer","console","log","selection","selectedLayers","layers","auditQueue","p","i","length","type","getParentArtboard","id","key","auditArtboard","ab","result","noStyle","auditLayer","name","text","frame","x","y","height","parent","style","textColor","fontFamily","group","layer","sharedStyleId","getFontWeightNames","fontFam","values","members","NSFontManager","sharedFontManager","availableMembersOfFontFamily","w","makeAudit","auditBlock","fixedWidth","width","cloneArray","arr","slice","onGenerateAuditor","textStyles","sharedTextStyles","locked","Date","toString","maxX","forEach","element","m","sort","sortStyleByName","lastToken","lastName","s","tokens","split","divider","fontSize","alignment","sample","makeStyleSample","drawWarning","Math","max","centerOnLayer","context","showMessage","shapePath","shapeType","ShapeType","Oval","fills","color","fill","FillType","Color","borders","toHSL","hex","exec","r","parseInt","g","b","a","min","h","l","d","round","makeBG","sharedStyle","artboard","styleSample","fontWeight","weightTable","fontWeightName","description","lineHeight","textTransform","kerning","styleDetails","onFindStyle","isEmpty","getSharedTextStyleWithID","getAllInstancesLayers","onGetStyleJSON","onGetStyleJSONs","output","styleObj","push","JSON","stringify"],"mappings":"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","file":"auditor.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/auditor.js\");\n","var Document = require('sketch/dom').Document\nvar Page = require('sketch/dom').Page;\nvar Artboard = require('sketch/dom').Artboard\nvar Text = require('sketch/dom').Text\nvar Group = require('sketch/dom').Group\nvar Rectangle = require('sketch/dom').Rectangle\nvar ShapePath = require('sketch/dom').ShapePath\nvar Style = require('sketch/dom').Style\n\nvar document = Document.getSelectedDocument();\nvar page = document.selectedPage;\nvar audits, auditorBoard;\nvar bgGroup;\n\nconst margin = 50;\nconst padding = 30;\n\nexport function onAuditLayer() {\n\tconsole.log(\"+++\");\n\n\tvar selection = document.selectedLayers.layers;\n\tvar auditQueue = {};\n\tvar p;\n\tfor (var i = 0; i < selection.length; i++) {\n\t\tswitch (selection[i].type) {\n\t\t\tcase \"ArtBoard\":\n\t\t\tcase \"SymbolMaster\":\n\t\t\t\tp = selection[i]\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tp = selection[i].getParentArtboard();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tauditQueue[p.id] = p;\n\t}\n\n\tfor (const key in auditQueue) {\n\t\tauditArtboard(auditQueue[key]);\n\t}\n\n}\n\nfunction auditArtboard(ab) {\n\tvar result = {\n\t\tnoStyle: 0\n\t};\n\n\tauditLayer(ab, result);\n\n\tif (result.noStyle > 0) {\n\t\tnew Text({\n\t\t\tname: ab.id,\n\t\t\ttext: result.noStyle + \" noStyle\",\n\t\t\tframe: {\n\t\t\t\tx: ab.frame.x,\n\t\t\t\ty: ab.frame.y + ab.frame.height + 10\n\t\t\t},\n\t\t\tparent: page,\n\t\t\tstyle: {\n\t\t\t\ttextColor: '#777777FF',\n\t\t\t\tfontFamily: 'Monaco'\n\t\t\t}\n\t\t})\n\t}\n\n}\n\nfunction auditLayer(group, result) {\n\n\tfor (var i = 0; i < group.layers.length; i++) {\n\t\tconst layer = group.layers[i];\n\t\t//console.log(layer.type);\n\t\tswitch (layer.type) {\n\t\t\tcase \"Text\":\n\t\t\t\tif (layer.sharedStyleId == null) {\n\t\t\t\t\t//found text with no style\n\t\t\t\t\tresult.noStyle++;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Group\":\n\t\t\tcase \"SymbolInstance\":\n\t\t\t\tbreak;\n\t\t}\n\t\t//console.log(result.noStyle);\n\t}\n}\n\n\n  \nfunction getFontWeightNames( fontFam ){\n\tvar values = [];\n\tvar members = NSFontManager.sharedFontManager().availableMembersOfFontFamily( fontFam );\n\n\tfor( var i = 0 ; i < members.length ; i++ ){\n\t\tconst w = members[i][2];\n\t\tif(values[w] == null){\n\t\t  values[w] = members[i][1];\n\t\t}\n\t} \n\n\treturn values;\n\n  //return NSFontManager.sharedFontManager().availableMembersOfFontFamily( fontFam );\n}\n\nfunction makeAudit(layer) {\n\tconsole.log(layer);\n\tvar auditBlock = new Text({\n\t\ttext: \"Audit!!!\",\n\t\t//alignment: Text.style.alignment.left,\n\t\t//sharedStyleId: sharedStyle.id,\n\t\t//style:sharedStyle.style,\n\t\tparent: audits,\n\t\tfixedWidth: true\n\t});\n\n\tauditBlock.frame.x = layer.frame.x;\n\tauditBlock.frame.y = layer.frame.y;\n\tauditBlock.frame.width = layer.frame.width;\n\n}\n\nfunction cloneArray(arr) {\n\treturn arr.slice();\n}\n\nexport function onGenerateAuditor() {\n\n\n\n\tvar textStyles = cloneArray(document.sharedTextStyles);\n\n\t//console.log(JSON.stringify(textStyles));\n\tbgGroup = new Group({\n\t\tname: \"bgs\"\n\t});\n\tbgGroup.locked = true;\n\t//MAKE auditorBoard\n\tauditorBoard = new Artboard({\n\t\tname: 'Style Samples as of ' + (new Date().toString()),\n\t\tparent: page\n\t})\n\n\tbgGroup.parent = auditorBoard;\n\n\tvar maxX = -99999;\n\n\tpage.layers.forEach(element => {\n\t\tvar m = element.frame.x + element.frame.width;\n\t\tmaxX = (maxX > m) ? maxX : m;\n\t});\n\n\tauditorBoard.frame.x = maxX + 100;\n\n\tauditorBoard.frame.y = 0;\n\n\t//MAKE ALL Style Samples\n\tvar y = margin;\n\tmaxX = 0;\n\n\ttextStyles.sort(sortStyleByName);\n\n\tvar lastToken = \"\";\n\tvar lastName = \"\";\n\n\tfor (let i = 0; i < textStyles.length; i++) {\n\t\tconst s = textStyles[i];\n\n\t\tvar tokens = s.name.split(\"/\");\n\t\tif (lastToken != tokens[0]) {\n\t\t\tlastToken = tokens[0];\n\t\t\tvar divider = new Text({\n\t\t\t\ttext: lastToken,\n\t\t\t\tparent: auditorBoard,\n\n\t\t\t\tframe: {\n\t\t\t\t\ty: y,\n\t\t\t\t\tx: padding * .5\n\t\t\t\t},\n\t\t\t\tstyle: {\n\t\t\t\t\ttextColor: '#777777FF',\n\t\t\t\t\tfontFamily: 'Helvetica Neue',\n\t\t\t\t\tfontSize: 10,\n\t\t\t\t\talignment: 'left'\n\t\t\t\t},\n\t\t\t\tlocked: true\n\n\t\t\t});\n\t\t\ty += padding;\n\t\t}\n\n\n\t\tvar sample = makeStyleSample(s, auditorBoard, margin, y);\n\n\t\tif (lastName == s.name) {\n\t\t\tdrawWarning(sample);\n\t\t}\n\n\t\tlastName = s.name;\n\t\ty += padding + s.style.fontSize;\n\t\tmaxX = Math.max(maxX, sample.frame.width);\n\t}\n\n\tauditorBoard.frame.width = 500; //maxX + (margin * 2);\n\tauditorBoard.frame.height = y + margin;\n\n\t//RESIZE artboard\n\n\t//ARRANGE ARTBOARDS\n\n\tdocument.centerOnLayer(auditorBoard);\n\tcontext.document.showMessage(\"🙌 Auditor done!\");\n}\n\nfunction drawWarning(sample) {\n\tconst shapePath = new ShapePath({\n\t\tname: 'dupe',\n\t\tshapeType: ShapePath.ShapeType.Oval,\n\t\tframe: {\n\t\t\tx: sample.frame.x - 30,\n\t\t\ty: sample.frame.y + (.5 * sample.frame.height),\n\t\t\twidth: 10,\n\t\t\theight: 10\n\t\t},\n\t\tstyle: {\n\t\t\tfills: [{\n\t\t\t\tcolor: '#F8E71CFF',\n\t\t\t\tfill: Style.FillType.Color,\n\t\t\t}],\n\t\t\tborders: []\n\t\t},\n\t\tparent: sample.parent\n\t})\n}\n\nfunction toHSL(hex) {\n\tvar result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n\tvar r = parseInt(result[1], 16);\n\tvar g = parseInt(result[2], 16);\n\tvar b = parseInt(result[3], 16);\n\tvar a = parseInt(result[4], 16);\n\n\tr /= 255, g /= 255, b /= 255, a /= 255;\n\tvar max = Math.max(r, g, b),\n\t\tmin = Math.min(r, g, b);\n\tvar h, s, l = (max + min) / 2;\n\n\tif (max == min) {\n\t\th = s = 0; // achromatic\n\t} else {\n\t\tvar d = max - min;\n\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\t\tswitch (max) {\n\t\t\tcase r:\n\t\t\t\th = (g - b) / d + (g < b ? 6 : 0);\n\t\t\t\tbreak;\n\t\t\tcase g:\n\t\t\t\th = (b - r) / d + 2;\n\t\t\t\tbreak;\n\t\t\tcase b:\n\t\t\t\th = (r - g) / d + 4;\n\t\t\t\tbreak;\n\t\t}\n\t\th /= 6;\n\t}\n\n\ts = s * 100;\n\ts = Math.round(s);\n\tl = l * 100;\n\tl = Math.round(l);\n\n\treturn {\n\t\th: h,\n\t\ts: s,\n\t\tl: l\n\t};\n\n}\n\nfunction makeBG(text) {\n\tif (toHSL(text.style.textColor).l > 50) {\n\t\tnew ShapePath({\n\t\t\tname: 'dark',\n\t\t\tshapeType: ShapePath.ShapeType.Rectangle,\n\t\t\tframe: {\n\t\t\t\tx: text.frame.x - 4,\n\t\t\t\ty: text.frame.y - 2,\n\t\t\t\twidth: text.frame.width + 8,\n\t\t\t\theight: text.frame.height + 4\n\t\t\t},\n\t\t\tstyle: {\n\t\t\t\tfills: [{\n\t\t\t\t\tcolor: '#333333',\n\t\t\t\t\tfill: Style.FillType.Color,\n\t\t\t\t}],\n\t\t\t\tborders: []\n\t\t\t},\n\t\t\tparent: text.parent,\n\t\t\tlocked: true\n\t\t});\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction makeStyleSample(sharedStyle, artboard, x, y) {\n\t//var layers = sharedStyle.getAllInstancesLayers();\n\tvar styleSample = new Text({\n\t\ttext: sharedStyle.name,\n\t\tsharedStyleId: sharedStyle.id,\n\t\tstyle: sharedStyle.style,\n\t\tparent: artboard\n\t})\n\tstyleSample.frame.x = x; // + (sharedStyle.name.split(\"/\").length*padding/2);\n\tstyleSample.frame.y = y;\n\n\tvar fontFamily = sharedStyle.style.fontFamily;\n\tvar fontWeight = sharedStyle.style.fontWeight;\n\n\tvar weightTable = getFontWeightNames( fontFamily );\n\n\tvar fontWeightName = weightTable[fontWeight];\n\t/*if (fontFamily == \"Helvetica Neue LT Std\") {\n\t\tswitch (fontWeight) {\n\t\t\tcase 3:\n\t\t\tfontWeight = \"45 Light (3)\";\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\tfontWeight = \"55 Roman (5)\";\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\tfontWeight = \"65 Medium (7)\";\n\t\t\t\tbreak;\n\t\t\tcase 9:\n\t\t\tfontWeight = \"75 Bold (9)\";\n\t\t\t\tbreak;\n\t\t\tcase 10:\n\t\t\tfontWeight = \"85 Heavy (10)\";\n\t\t\t\tbreak;\n\t\t}\n\t}*/\n\n\t//Add Style Details\n\tvar description = \"\";\n\tdescription += fontFamily;\n\tdescription += \" ∙ weight: \" + fontWeightName + \" (\" + fontWeight +\")\";\n\tdescription += \" ∙ \" + sharedStyle.style.fontSize;\n\tif (sharedStyle.style.lineHeight) description += (\"/\" + sharedStyle.style.lineHeight);\n\tdescription += \" ∙ \" + sharedStyle.style.alignment + \" aligned\";\n\tif (sharedStyle.style.textTransform != 'none') description += \" ∙ \" + sharedStyle.style.textTransform;\n\tif (sharedStyle.style.kerning > 0) description += \" ∙ kern: \" + sharedStyle.style.kerning;\n\tdescription += \" ∙ \" + sharedStyle.style.textColor;\n\n\n\tvar styleDetails = new Text({\n\t\ttext: description,\n\t\tparent: artboard\n\t})\n\n\tstyleDetails.style.fontSize = 8;\n\tstyleDetails.style.fontFamily = \"Helvetica Neue\";\n\tstyleDetails.style.textColor = \"#777777FF\";\n\tstyleDetails.frame.x = styleSample.frame.x; // + styleSample.frame.width + padding * 2;\n\tstyleDetails.frame.y = styleSample.frame.y + styleSample.frame.height + 2; // Math.floor(styleSample.frame.y + (styleSample.frame.height - useCnt.frame.height) / 2);\n\n\t//Add BG if style is bright\n\tmakeBG(styleSample);\n\tstyleSample.parent = styleSample.parent;\n\treturn styleSample;\n}\n\nexport function onFindStyle() {\n\t//var documents = Document.getDocuments();\n\tvar document = Document.getSelectedDocument();\n\tvar selection = document.selectedLayers;\n\tif (!selection.isEmpty) {\n\t\tselection.layers.forEach(layer => {\n\t\t\t//layer.sharedStyleId;\n\t\t\t//console.log(layer.sharedStyleId);\n\t\t\t//console.log(document);\n\t\t\tvar sharedStyle = document.getSharedTextStyleWithID(layer.sharedStyleId);\n\t\t\t//console.log(sharedStyle);\n\t\t\tvar layers = sharedStyle.getAllInstancesLayers();\n\t\t\tconsole.log(layers);\n\t\t\tfor (var i = 0; i < layers.length; i++) {\n\t\t\t\tvar l = layers[i];\n\t\t\t\t//console.log( JSON.stringify( l , null , 4) );\n\t\t\t\tconsole.log(\"-------\");\n\n\t\t\t\twhile (l.parent) {\n\t\t\t\t\tconsole.log(l.name);\n\t\t\t\t\tl = l.parent;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\n\nexport function onGetStyleJSON() {\n\t/*new WebUI(context, require(\"../resources/index.html\"), {\n\t\tidentifier: \"identity\",\n\t\tx: 0,\n\t\ty: 500,\n\t\twidth: 500,\n\t\theight: 400,\n\t\tblurredBackground: false,\n\t\tonlyShowCloseButton: true,\n\t\thideTitleBar: false,\n\t\tshouldKeepAround: true,\n\t\tresizable: false\n\t  }); \n\t  */\n}\nexport function onGetStyleJSONs() {\n\tvar textStyles = document.sharedTextStyles;\n\tvar output = [];\n\t//var layers = textStyles[0].getAllInstancesLayers();\n\t//console.log( JSON.stringify(layers[0]._object, null, 4) );\n\n\tfor (var i = 0; i < textStyles.length; i++) {\n\t\tvar styleObj = {};\n\t\tvar s = textStyles[i];\n\t\tstyleObj.fontFamily = s.style.fontFamily;\n\t\tstyleObj.fontWeight = s.style.fontWeight;\n\t\tstyleObj.fontSize = s.style.fontSize;\n\t\tstyleObj.lineHeight = s.style.lineHeight;\n\t\tstyleObj.alignment = s.style.alignment;\n\t\tstyleObj.textTransform = s.style.textTransform;\n\t\tstyleObj.kerning = s.style.kerning;\n\t\tstyleObj.color = s.style.textColor;\n\t\toutput.push(styleObj);\n\t}\n\tconsole.log(JSON.stringify(output, null, 4));\n}\n\n","module.exports = require(\"sketch/dom\");"],"sourceRoot":""}